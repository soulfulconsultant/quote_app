{"version":3,"sources":["webpack:///src/app/quote-edit/components/index.ts","webpack:///src/app/quote-edit/quote-edit.module.ts","webpack:///src/app/quote-edit/components/quote-edit-container/quote-edit-container.component.ts","webpack:///src/app/quote-edit/components/quote-edit-container/quote-edit-container.component.html","webpack:///src/app/quote-edit/quote-edit-routing.module.ts"],"names":["COMPONENTS","QuoteEditModule","QuoteEditContainerComponent","activateRouter","quoteService","router","quote$$","quote$","asObservable","isLoading$","id","snapshot","params","getQuoteById","subscribe","quote","edit","pipe","getById","next","err","navigate","quotes","routes","path","component","QuoteEditRoutingModule","forChild"],"mappings":"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","file":"quote-edit-quote-edit-module-es5.js","sourcesContent":["export * from './quote-edit-container/quote-edit-container.component';\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { QuoteEditContainerComponent } from './components';\nimport { QuoteEditRoutingModule } from './quote-edit-routing.module';\n\nconst COMPONENTS = [\n  QuoteEditContainerComponent,\n];\n\n@NgModule({\n  declarations: [\n    ...COMPONENTS,\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    QuoteEditRoutingModule,\n  ],\n})\nexport class QuoteEditModule { }\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { catchError, switchMap, take, tap } from 'rxjs/operators';\n\nimport { RoutesPaths } from '../../../app-routing.config';\nimport { Quote } from '../../../models';\nimport { QuoteService } from '../../../services';\n\n@Component({\n  selector: 'app-quote-edit-container',\n  templateUrl: './quote-edit-container.component.html',\n  styleUrls: [ './quote-edit-container.component.scss' ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class QuoteEditContainerComponent {\n  private quote$$ = new BehaviorSubject(null);\n  quote$ = this.quote$$.asObservable();\n  isLoading$ = this.quoteService.isLoading$;\n\n  constructor(\n    private activateRouter: ActivatedRoute,\n    private quoteService: QuoteService,\n    private router: Router,\n  ) {\n    const { id } = activateRouter.snapshot.params;\n\n    this.getQuoteById(id).subscribe();\n  }\n\n  onSubmitted(quote: Quote): void {\n    this.quoteService.edit(quote).pipe(\n      switchMap(() => this.getQuoteById(quote.id)),\n      take(1),\n    ).subscribe();\n  }\n\n  private getQuoteById(id: string): Observable<Quote> {\n    return this.quoteService.getById(id).pipe(\n      take(1),\n      tap((quote: Quote) => this.quote$$.next(quote)),\n      catchError((err: any) => {\n        this.router.navigate([ RoutesPaths.quotes ]);\n\n        return throwError(err);\n      })\n    );\n  }\n\n}\n","<ng-container\n  *ngIf=\"(quote$ | async) as quote; else loader\"\n>\n  <app-quote-edit-form\n    *ngIf=\"!(isLoading$ | async) else loader\"\n    [initialData]=\"quote\"\n    (submitted)=\"onSubmitted($event)\"\n  >\n  </app-quote-edit-form>\n</ng-container>\n\n<ng-template #loader>\n  <app-loader></app-loader>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { QuoteEditContainerComponent } from './components';\n\nconst routes: Routes = [\n  {\n    path: 'edit/:id',\n    component: QuoteEditContainerComponent,\n  },\n];\n\n@NgModule({\n  imports: [ RouterModule.forChild(routes) ],\n  exports: [ RouterModule ],\n})\nexport class QuoteEditRoutingModule { }\n"]}